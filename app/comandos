#CREAR usuario global (POST)

curl -X POST "http://localhost:8000/usuarios/" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "operador",
    "privilege": 5,
    "permissions": "read-only"
  }'

ACTUALIZAR usuario global (PUT)

curl -X PUT "http://localhost:8000/usuarios/operador" \
  -H "Content-Type: application/json" \
  -d '{
    "privilege": 10,
    "permissions": "read-write"
  }'

ELIMINAR usuario global (DELETE)

curl -X DELETE "http://localhost:8000/usuarios/operador


LISTAR usuarios de un router (GET)

curl -X GET "http://localhost:8000/routers/Edge/usuarios/"



CREAR usuario en un router (POST)

curl -X POST "http://localhost:8000/routers/Edge/usuarios/" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "juan",
    "privilege": 7,
    "permissions": "read-write"
  }'


  ACTUALIZAR usuario en un router (PUT)

  curl -X PUT "http://localhost:8000/routers/Edge/usuarios/juan" \
  -H "Content-Type: application/json" \
  -d '{
    "privilege": 15
  }' 


  LIMINAR usuario en un router (DELETE)

  curl -X DELETE "http://localhost:8000/routers/Edge/usuarios/juan" 



POST — Iniciar monitoreo

curl -X POST "http://localhost:8000/routers/R1/interfaces/1/octetos/10" 


GET — Obtener muestras

curl "http://localhost:8000/routers/R1/interfaces/1/octetos/10" 

DELETE — Detener monitoreo

curl -X DELETE "http://localhost:8000/routers/R1/interfaces/1/octetos/10"








GET — Obtener el estado de una interfaz

curl -X GET "http://localhost:8000/routers/R1/interfaces/1/estado"




POST — Activar captura de traps linkUp/linkDown

curl -X POST "http://localhost:8000/routers/R1/interfaces/1/estado" 


DELETE — Detener captura de traps

curl -X DELETE "http://localhost:8000/routers/R1/interfaces/1/estado" 



Para probar las capturas

Activar captura> curl -X POST "http://localhost:8000/routers/R1/interfaces/1/estado" 

Apagar/encender interfaz en el router> 
conf t
 int f1/0
  shutdown
  no shutdown

Consultar estado
curl "http://localhost:8000/routers/R1/interfaces/1/estado" 


Detener captura:

curl -X DELETE "http://localhost:8000/routers/R1/interfaces/1/estado"



###Octetos
Monitoreo en crudo

curl "http://localhost:8000/routers/R1/interfaces/1/octetos/10"


GET – Gráfica PNG del monitoreo

curl "http://localhost:8000/routers/R1/interfaces/1/grafica?segundos=10" --output grafica_R1_if1.png






POST – Registrar router

curl -X POST "http://localhost:8000/routers/" \
     -H "Content-Type: application/json" \
     -d '{
           "hostname": "R1",
           "ip_admin": "192.168.100.1",
           "snmp_version": 2,
           "community": "REDES"
         }'



Registrar una interfaz en la DB

curl -X POST "http://localhost:8000/routers/R1/interfaces" \
     -H "Content-Type: application/json" \
     -d '{
           "if_index": 1,
           "descripcion": "FastEthernet1/0"
         }'

Ver las interfaces

curl "http://localhost:8000/routers/R1/interfaces"


Topología completa

curl "http://localhost:8000/topologia" | jq


Gráfica de la topología

http://localhost:8000/topologia/grafica


